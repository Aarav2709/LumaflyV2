<Application xmlns="https://github.com/avaloniaui"
                         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                         xmlns:local="clr-namespace:Needlelight"
                         x:Class="Needlelight.App">
    <Application.DataTemplates>
        <local:ViewLocator/>
    </Application.DataTemplates>

    <NativeMenu.Menu>
        <NativeMenu>
            <NativeMenuItem Header="Needlelight" />
        </NativeMenu>
    </NativeMenu.Menu>

    <Application.Styles>
        <FluentTheme DensityStyle="Compact">
            <FluentTheme.Palettes>
                <ColorPaletteResources x:Key="Dark" Accent="#C1272D" RegionColor="#0E0E10" />
            </FluentTheme.Palettes>
        </FluentTheme>

    <StyleInclude Source="avares://Needlelight/Styles/Styles.axaml"/>
        <StyleInclude Source="avares://AvaloniaProgressRing/Styles/ProgressRing.xaml"/>
    <StyleInclude Source="avares://Needlelight/Styles/Controls.axaml"/>
    <StyleInclude Source="avares://Needlelight/Views/Controls/MenuCheckBox.axaml"/>
    <StyleInclude Source="avares://Needlelight/Views/Controls/ExcludableCheckBox.axaml"/>
    <StyleInclude Source="avares://Needlelight/Views/Controls/TextButtonFlyout.axaml"/>
    </Application.Styles>

    <Application.RequestedThemeVariant>Dark</Application.RequestedThemeVariant>

    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceInclude Source="avares://Needlelight/Styles/Colors.axaml"/>
                <ResourceInclude Source="avares://Needlelight/Styles/Theme.axaml"/>
            </ResourceDictionary.MergedDictionaries>

            <!-- Compatibility brushes -->
            <SolidColorBrush x:Key="HighlightBlue">#C1272D</SolidColorBrush>
            <SolidColorBrush x:Key="BackgroundColor">#0E0E10</SolidColorBrush>
            <SolidColorBrush x:Key="HighlightRed">#C1272D</SolidColorBrush>
            <SolidColorBrush x:Key="DefaultButtonColor">#2A2A2E</SolidColorBrush>
            <SolidColorBrush x:Key="TextColor">#E5E5E5</SolidColorBrush>
            <SolidColorBrush x:Key="DisabledColor">#9C9C9C</SolidColorBrush>

            <!-- Icon geometries (deduplicated) -->
            <StreamGeometry x:Key="checkmark_regular">M4.03033009,13.4696699 C3.73743687,13.1767767 3.26256313,13.1767767 2.96966991,13.4696699 C2.6767767,13.7625631 2.6767767,14.2374369 2.96966991,14.5303301 L9.96966991,21.5303301 C10.2625631,21.8232233 10.7374369,21.8232233 11.0303301,21.5303301 L25.0303301,7.53033009 C25.3232233,7.23743687 25.3232233,6.76256313 25.0303301,6.46966991 C24.7374369,6.1767767 24.2625631,6.1767767 23.9696699,6.46966991 L10.5,19.9393398 L4.03033009,13.4696699 Z</StreamGeometry>
            <StreamGeometry x:Key="chevron_down_regular">M8.36612 16.1161C7.87796 16.6043 7.87796 17.3957 8.36612 17.8839L23.1161 32.6339C23.6043 33.122 24.3957 33.122 24.8839 32.6339L39.6339 17.8839C40.122 17.3957 40.122 16.6043 39.6339 16.1161C39.1457 15.628 38.3543 15.628 37.8661 16.1161L24 29.9822L10.1339 16.1161C9.64573 15.628 8.85427 15.628 8.36612 16.1161Z</StreamGeometry>
            <StreamGeometry x:Key="chevron_up_regular">M39.6339 31.8839C39.1457 32.372 38.3543 32.372 37.8661 31.8839L24 18.0178L10.1339 31.8839C9.64573 32.372 8.85427 32.372 8.36612 31.8839C7.87796 31.3957 7.87796 30.6043 8.36612 30.1161L23.1161 15.3661C23.6043 14.878 24.3957 14.878 24.8839 15.3661L39.6339 30.1161C40.122 30.6043 40.122 31.3957 39.6339 31.8839Z</StreamGeometry>
            <StreamGeometry x:Key="chevron_right_regular">M16.1161 39.6339C15.628 39.1457 15.628 38.3543 16.1161 37.8661L29.9822 24L16.1161 10.1339C15.628 9.64573 15.628 8.85427 16.1161 8.36612C16.6043 7.87796 17.3957 7.87796 17.8839 8.36612L32.6339 23.1161C33.122 23.6043 33.122 24.3957 32.6339 24.8839L17.8839 39.6339C17.3957 40.122 16.6043 40.122 16.1161 39.6339Z</StreamGeometry>
            <StreamGeometry x:Key="play_regular">M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM10 16.5v-9l6 4.5-6 4.5z</StreamGeometry>
            <StreamGeometry x:Key="book_database_regular">M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z</StreamGeometry>
            <StreamGeometry x:Key="options_regular">M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5z</StreamGeometry>
            <StreamGeometry x:Key="arrow_sync_regular">M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z</StreamGeometry>
            <StreamGeometry x:Key="delete_regular">M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z</StreamGeometry>
            <StreamGeometry x:Key="toggle_right_regular">M17 7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h10c2.76 0 5-2.24 5-5s-2.24-5-5-5zM7 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z</StreamGeometry>
            <StreamGeometry x:Key="folder_zip_regular">M20 6h-2l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z</StreamGeometry>
            <StreamGeometry x:Key="info_regular">M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z</StreamGeometry>
            <StreamGeometry x:Key="history_regular">M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z</StreamGeometry>
            <StreamGeometry x:Key="presence_offline_regular">M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z</StreamGeometry>
            <StreamGeometry x:Key="pin_regular">M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z</StreamGeometry>
            <StreamGeometry x:Key="folder_regular">M20 6h-2l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z</StreamGeometry>

            <!-- Aliased/missing icons mapped to existing shapes to avoid runtime failures -->
            <!-- Use simple, known-good path data to ensure no geometry parse errors. -->
            <!-- Dismiss circle: map to delete icon for now -->
            <StreamGeometry x:Key="dismiss_circle_regular">M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z</StreamGeometry>
            <!-- Checkmark circle: reuse checkmark path -->
            <StreamGeometry x:Key="checkmark_circle_regular">M4.03033009,13.4696699 C3.73743687,13.1767767 3.26256313,13.1767767 2.96966991,13.4696699 C2.6767767,13.7625631 2.6767767,14.2374369 2.96966991,14.5303301 L9.96966991,21.5303301 C10.2625631,21.8232233 10.7374369,21.8232233 11.0303301,21.5303301 L25.0303301,7.53033009 C25.3232233,7.23743687 25.3232233,6.76256313 25.0303301,6.46966991 C24.7374369,6.1767767 24.2625631,6.1767767 23.9696699,6.46966991 L10.5,19.9393398 L4.03033009,13.4696699 Z</StreamGeometry>
            <!-- Presence DND: reuse offline circle -->
            <StreamGeometry x:Key="presence_dnd_regular">M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z</StreamGeometry>
            <!-- Copy/Edit/Share/Download/Warning/Edit settings/Bug: reuse simple shapes to prevent missing resource errors. Replace with bespoke geometries later if desired. -->
            <StreamGeometry x:Key="copy_regular">M20 6h-2l-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6z</StreamGeometry>
            <StreamGeometry x:Key="edit_regular">M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z</StreamGeometry>
            <StreamGeometry x:Key="share_android_regular">M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.02-4.11A2.99 2.99 0 0 0 18 7.91a3 3 0 1 0-2.82-4.01L8.16 8.08a3.02 3.02 0 0 0 0 3.83l7.02 4.18A3 3 0 1 0 18 16.08z</StreamGeometry>
            <StreamGeometry x:Key="arrow_download_regular">M12 3v10l-4-4-1.4 1.4L12 17.8l5.4-5.4L16 9l-4 4V3z M4 20h16v2H4z</StreamGeometry>
            <StreamGeometry x:Key="warning_regular">M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z</StreamGeometry>
            <StreamGeometry x:Key="edit_settings_regular">M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z</StreamGeometry>
            <StreamGeometry x:Key="bug_regular">M20 8h-2.81a5.99 5.99 0 0 0-2.19-2.19V3h-2v2.81A5.99 5.99 0 0 0 8 8H5v2h3.06a6.98 6.98 0 0 0 0 4H5v2h3a5.99 5.99 0 0 0 3 2.19V21h2v-2.81A5.99 5.99 0 0 0 17 16h3v-2h-3.06a6.98 6.98 0 0 0 0-4H20V8z</StreamGeometry>

            <!-- Better navigation icons -->
            <StreamGeometry x:Key="settings_regular">M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z</StreamGeometry>
            <StreamGeometry x:Key="apps_regular">M4,8H8V4H4V8M10,20H14V16H10V20M4,20H8V16H4V20M4,14H8V10H4V14M10,14H14V10H10V14M16,4V8H20V4H16M10,8H14V4H10V8M16,14H20V10H16V14M16,20H20V16H16V20Z</StreamGeometry>
        </ResourceDictionary>
    </Application.Resources>
</Application>

